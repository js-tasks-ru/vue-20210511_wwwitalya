# –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å query –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏

üî• _–ó–∞–¥–∞—á–∞ –ø–æ–≤—ã—à–µ–Ω–Ω–æ–π —Å–ª–æ–∂–Ω–æ—Å—Ç–∏_<br />
üíº _–ß–∞—Å—Ç—å –ø—Ä–æ–µ–∫—Ç–∞_

<!--start_statement-->
–¢—Ä–µ–±—É–µ—Ç—Å—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∞—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç `QuerySync`, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç —Å–æ–µ–¥–∏–Ω—è—Ç—å `query` –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –º–∞—Ä—à—Ä—É—Ç–∞ —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å–ø–∏—Å–∫–∞ –º–∏—Ç–∞–ø–æ–≤:

–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:
- `view` - –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ: `list` (—Å–ø–∏—Å–æ–∫) –∏–ª–∏ `calendar` (–∫–∞–ª–µ–Ω–¥–∞—Ä—å);
- `date` - —Ñ–∏–ª—å—Ç—Ä –ø–æ –¥–∞—Ç–µ: `all` (–≤—Å–µ), `future` (–æ–∂–∏–¥–∞–µ–º—ã–µ),  `past` (–ø—Ä–æ—à–µ–¥—à–∏–µ); 
- `participation` - —Ñ–∏–ª—å—Ç—Ä –ø–æ —É—á–∞—Å—Ç–∏—é: `all` (–≤—Å–µ), `attending` (—É—á–∞—Å—Ç–Ω–∏–∫), `organizing` (–æ—Ä–≥–∞–Ω–∏–∑–∞—Ç–æ—Ä);
- `search` - –ø–æ–∏—Å–∫, –ª—é–±–∞—è —Å—Ç—Ä–æ–∫–∞;

–ó–Ω–∞—á–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é:
- `view`: `list`;
- `date`: `all`; 
- `participation`: `all`;
- `search`: `''`;

–î–ª—è –∏–º–∏—Ç–∞—Ü–∏–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –º–∏—Ç–∞–ø–æ–≤ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç `MeetupsView`, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–∏–Ω–∏–º–∞–µ—Ç 4 –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ (`view`, `date`, `participation`, `search`), –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –∏—Ö –∏ –ø–æ—Ä–æ–∂–¥–∞–µ—Ç —Å–æ–±—ã—Ç–∏—è –∏—Ö –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –¥–ª—è `sync` –º–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä–∞ (`update:search` –∏ —Ç.–¥.). –ò–º–µ–Ω–Ω–æ —Å —ç—Ç–∏–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–º –¥–æ–ª–∂–µ–Ω —Ä–∞–±–æ—Ç–∞—Ç—å `PageWithQuery`.

–ö–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–æ–ª–∂–µ–Ω —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å query-–ø–∞—Ä–∞–º–µ—Ç—Ä—ã –º–∞—Ä—à—Ä—É—Ç–∞ —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ –≤ —ç—Ç–æ–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ –≤ –æ–±–µ —Å—Ç–æ—Ä–æ–Ω—ã:
- –ó–Ω–∞—á–µ–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –¥–æ–ª–∂–Ω—ã —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–æ–≤–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏—è–º `query` –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –≤ –º–∞—Ä—à—Ä—É—Ç–µ;
- –ü—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –∑–Ω–∞—á–µ–Ω–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –¥–æ–ª–∂–µ–Ω –º–µ–Ω—è—Ç—å—Å—è –º–∞—Ä—à—Ä—É—Ç (`push` –∏–ª–∏ `replace`);
- –ü—Ä–∏ –ø–µ—Ä–µ—Ö–æ–¥–µ –Ω–∞ –º–∞—Ä—à—Ä—É—Ç —Å –¥—Ä—É–≥–∏–º–∏ `query` –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏, –¥–æ–ª–∂–Ω—ã –æ–±–Ω–æ–≤–ª—è—Ç—å—Å—è —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ;
- –ï—Å–ª–∏ –∫–∞–∫–æ–π-—Ç–æ –ø–∞—Ä–∞–º–µ—Ç—Ä –º–µ–Ω—è–µ—Ç—Å—è –Ω–∞ –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é, –µ–≥–æ –Ω–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –≤ `query` –≤ URL.

–ü–æ–¥—Å–∫–∞–∑–∫–∏:
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `beforeRouteUpdate` –∑–¥–µ—Å—å –ø–ª–æ—Ö–æ–π –≤–∞—Ä–∏–∞–Ω—Ç. –≠—Ç–æ `guard`, –∏ –æ–Ω –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è, –∫–æ–≥–¥–∞ —Ç—Ä–µ–±—É–µ—Ç—Å—è —Ä–µ—à–∏—Ç—å, –¥–µ–ª–∞—Ç—å –ø–µ—Ä–µ—Ö–æ–¥ –∏–ª–∏ –∑–∞–ø—Ä–µ—â–∞—Ç—å –ø–µ—Ä–µ—Ö–æ–¥. –ó–¥–µ—Å—å –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–±—ã—á–Ω–æ–µ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ —Å `watch` –∏–ª–∏ –≤—ã—á–∏—Å–ª—è–µ–º—ã–µ —Å–≤–æ–π—Å—Ç–≤–∞ (`$route` - —Ä–µ–∞–∫—Ç–∏–≤–Ω—ã–π);
- –ü—Ä–∏ –ø–µ—Ä–µ—Ö–æ–¥–µ –Ω–∞ —Ç–æ—Ç –∂–µ —Å–∞–º—ã–π –º–∞—Ä—à—Ä—É—Ç –±—É–¥–µ—Ç –∏—Å–∫–ª—é—á–µ–Ω–∏–µ —Å –æ—à–∏–±–∫–æ–π `NavigationDuplicated`. –ß—Ç–æ–±—ã –Ω–µ –ø—Ä–æ–≤–µ—Ä—è—Ç—å, –Ω–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ª–∏ –ø–µ—Ä–µ—Ö–æ–¥ –Ω–∞ —Ç–∞–∫–æ–π –∂–µ –º–∞—Ä—à—Ä—É—Ç, –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å `catch`, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç –ø—Ä–æ–≤–µ—Ä—è—Ç—å —Ç–∏–ø –∏—Å–∫–ª—é—á–µ–Ω–∏—è, –∏ –∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å –µ–≥–æ, –µ—Å–ª–∏ –ø—Ä–∏—á–∏–Ω–∞ –≤ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–∏.

```javascript
push(/*...*/).catch((err) => {
  if (/* –ü—Ä–∏—á–∏–Ω–µ –ù–ï –≤ NavigationDuplicated */) {
    // –ü—Ä–æ–±—Ä–∞—Å—ã–≤–∞–µ–º –æ—à–∏–±–∫—É –¥–∞–ª—å—à–µ 
    throw err;
  } // –ò–Ω–∞—á–µ –∏–≥–Ω–æ—Ä–∏—Ä—É–µ–º –∏—Å–∫–ª—é—á–µ–Ω–∏–µ
});
```

–ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏:
- –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ –ø—Ä–æ–≥—Ä–∞–º–º–Ω–æ–π –Ω–∞–≤–∏–≥–∞—Ü–∏–∏: [https://router.vuejs.org/guide/essentials/navigation.html](https://router.vuejs.org/guide/essentials/navigation.html)
- API –º–µ—Ç–æ–¥–∞ push: [https://router.vuejs.org/api/#router-push](https://router.vuejs.org/api/#router-push)
- –û–ø–∏—Å–∞–Ω–∏—è —Ç–∏–ø–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ `location` –Ω–µ—Ç –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏, –Ω–æ –µ–≥–æ –º–æ–∂–Ω–æ –Ω–∞–π—Ç–∏ –≤ –∏—Å—Ö–æ–¥–Ω–∏–∫–∞—Ö: [/types/router.d.ts](https://github.com/vuejs/vue-router/blob/677f3c1f714fb61cc495345e535409b1cbb90429/types/router.d.ts#L146)
- –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ç–∏–ø–∞ –∏—Å–∫–ª—é—á–µ–Ω–∏—è: [https://router.vuejs.org/guide/advanced/navigation-failures.html#detecting-navigation-failures](https://router.vuejs.org/guide/advanced/navigation-failures.html#detecting-navigation-failures)

<img src="https://i.imgur.com/odxH4um.gif" alt="Example" style="max-width: 100%" />
<!--end_statement-->

---

### –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è

üìù –î–ª—è —Ä–µ—à–µ–Ω–∏—è –∑–∞–¥–∞—á–∏ –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª: `views/QuerySync.vue`.

üöÄ –ö–æ–º–∞–Ω–¥–∞ –∑–∞–ø—É—Å–∫–∞ –¥–ª—è —Ä—É—á–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è: `npm run serve`;<br>
–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ –Ω–∞ [http://localhost:8080/04-spa/06-QuerySync](http://localhost:8080/04-spa/06-QuerySync).

‚úÖ –î–æ—Å—Ç—É–ø–Ω–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ: `npm test QuerySync`.
